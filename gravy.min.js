Backbone.Gravy=Backbone.View;
_.extend(Backbone.Gravy.prototype,{_r:["success","error","clear","submit"],_v:!1,_reserved:function(a){for(w in this._r)if(a===this._r[w])return!0;return!1},_validateNode:function(a,c){var b=this.gravy,d=null,e=null;if(!(validator=b[a]instanceof Object?b[a]:this[b[a]]||this.model[b[a]]))throw Error("[Gravy] Unable to find validator for: "+a);if(_.isObject(validator)&&!_.isFunction(validator)&&(d=validator.success,e=validator.error,!(validator=validator.validator)||!(validator=this[validator]||this.model[validator])))throw Error("[Gravy] Unable to find validator for: "+
a);return{result:validator.apply(this,[c]),success:d||b.success,error:e||b.error}},_applyCallback:function(a,c){a=this[a.result?a.success:a.error];return a.apply(this,[c])},validate:function(a){var c,b,d;c=$(a.target);b=a.target.value;d=this.gravy;if(!this._validating&&!b.length&&d.clear)return this[d.clear].apply(this,[c]);a=a.target.name;if(d[a])return this._applyCallback(this._validateNode(a,b),c)},validateAll:function(a){a.preventDefault();var c=!0,b=this.gravy,d=b.submit,e,f;this._validating=
!0;for(field in b)this._reserved(field)||(f=this.$("#"+field),e=f.val(),callback=this._validateNode(field,e),callback.result||(c=!1),this._applyCallback(callback,f));if(c||this[d.error]){if(c&&!this[d.success])throw Error("[Gravy] Unable to find submission success callback!");this._validating=!1;return this[c?d.success:d.error].apply(this,[$(a.target)])}}});
